(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,r){e.exports=r.p+"static/media/logo.2b94c3e9.png"},function(e,t,r){e.exports=r(23)},,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(9),s=r.n(i),c=(r(17),r(3)),u=r(4),o=r(6),l=r(5),p=r(7),h=(r(18),r(19),r(10)),f=r.n(h),b=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"header"},n.createElement("img",{src:f.a,alt:"charity logo",className:"logo"}),n.createElement("h1",null,"Co-ordinator ",n.createElement("br",null),"dashboard"),n.createElement("div",{className:"commandBox"},n.createElement("i",{id:"welcomeInfo",className:"fas fa-info-circle"}),"Command box here")))}}]),t}(n.Component),d=(r(20),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"job"},n.createElement("div",{className:"packageContents"},this.props.job.contents),n.createElement("div",{className:"transportFrom"},this.props.job.from),n.createElement("div",{className:"transportTo"},this.props.job.to),n.createElement("div",{className:"rider"},this.props.job.rider),n.createElement("div",{className:"timeOfCall"},this.props.job.timeOfCall),n.createElement("div",{className:"collected"},this.props.job.collected),n.createElement("div",{className:"delivered"},this.props.job.delivered)))}}]),t}(n.Component)),v=(r(21),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"jobsList"},n.createElement("div",{className:"tableHeading"},n.createElement("div",null,n.createElement("div",null,"Contents"),n.createElement("div",null,"From"),n.createElement("div",null,"To"),n.createElement("div",null,"Rider"),n.createElement("div",null,"TOC"),n.createElement("div",null,"Collected at"),n.createElement("div",null,"Delivered at"))),this.props.filteredList.map(function(e,t){return n.createElement(d,{key:t,job:e})})))}}]),t}(n.Component)),m=r(1),j=r.n(m),O=r(2);function w(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject({status_code:e.status,error:new Error(e.statusText),response:e.json()})}function k(e){return e.json()}function y(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;return console.error(t,r,n,a,i),fetch(e+t,{method:r,withCredentials:!0,credentials:"include",headers:new Headers({Authorization:n,"Content-type":a||"text/html"}),body:i?JSON.stringify(i):void 0}).then(w).then(k).then(function(e){return console.log("Request succeeded with JSON response",e),this.users=e,e}).catch(function(e){return console.log("Request failed",e),i})}var _=function(){function e(t,r){Object(c.a)(this,e),this.bearer=t,this.api_url=r}return Object(u.a)(e,[{key:"get_vehicles",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"vehicles/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get_vehicle",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"vehicle/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create_vehicle",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"vehicles","POST",this.bearer,"application/json",t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=function(){function e(t,r){Object(c.a)(this,e),this.bearer=t,this.api_url=r}return Object(u.a)(e,[{key:"get_notes",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"notes/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get_note",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"note/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create_note",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"notes","POST",this.bearer,"application/json",t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=function(){function e(t,r){Object(c.a)(this,e),this.bearer=t,this.api_url=r}return Object(u.a)(e,[{key:"get_tasks",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"tasks"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get_task",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"task/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create_task",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"tasks","POST",this.bearer,"application/json",t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=function(){function e(t,r){Object(c.a)(this,e),this.bearer=t,this.users=void 0,this.api_url=r}return Object(u.a)(e,[{key:"get_sessions",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"sessions/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get_session",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"session/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create_session",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.abrupt("return",y(this.api_url,"sessions","POST",this.bearer,"application/json",t));case 4:return e.abrupt("return",y(this.api_url,"sessions","POST",this.bearer));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),T=function(){function e(t,r){Object(c.a)(this,e),this.bearer=t,this.users=void 0,this.api_url=r}return Object(u.a)(e,[{key:"get_users",value:function(){var e=Object(O.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"users","GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"get_user",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"user/"+t,"GET",this.bearer));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"create_user",value:function(){var e=Object(O.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(this.api_url,"users","POST",this.bearer,"application/json",t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),N=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).api_url=e.api_url,r.token="",r.bearer="",r.sessions=void 0,r.notes=void 0,r.tasks=void 0,r.vehicles=void 0,r.initialised=!1,r.users=void 0,r}return Object(p.a)(t,e),Object(u.a)(t,[{key:"login",value:function(){var e=Object(O.a)(j.a.mark(function e(t,r){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(this.api_url+"login",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"username="+t+"&password="+r}).then(w).then(k).then(function(e){console.log("Login successful"),this.token=e.access_token,this.bearer="Bearer "+this.token,this.users=new T(this.bearer,this.api_url),this.sessions=new x(this.bearer,this.api_url),this.notes=new E(this.bearer,this.api_url),this.tasks=new g(this.bearer,this.api_url),this.vehicles=new _(this.bearer,this.api_url),this.initialised=!0}).catch(function(e){console.log("Request failed",e)});case 1:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),t}(n.Component),C=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={api_control:new N({api_url:"/api/v0.1/"})},r}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){this.state.api_control.login("admin","asdfasdf");var e=this.state.api_control.sessions.get_session("f6479de6-0c8b-4290-b1b0-458b3bd5d443");return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"myModal",className:"modal"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("p",null,"This is the welcome modal"))),a.a.createElement(b,null),a.a.createElement(v,{filteredList:e}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.652c1cf2.chunk.js.map